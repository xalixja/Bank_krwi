<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Magazyn krwi</title>
    <style>
        .status-dostepne { background-color: #c8f7c5; }   /* zielony */
        .status-zuzyte { background-color: #f7c5c5; }     /* czerwony */
        .status-przeterminowane { background-color: #f7e6c5; } /* pomarańczowy */
    </style>
</head>
<body>

<h1>Magazyn krwi</h1>
<p><a href="/pracownik">⬅ Powrót do panelu</a></p>

<h2>Filtruj</h2>

<form method="POST">
    <label>Grupa krwi:</label>
    <select name="grupa">
        <option value="">-- wszystkie --</option>
        <option value="A">A</option>
        <option value="B">B</option>
        <option value="AB">AB</option>
        <option value="0">0</option>
    </select>

    <label>Rh:</label>
    <select name="rh">
        <option value="">-- wszystkie --</option>
        <option value="+">+</option>
        <option value="-">-</option>
    </select>

    <button type="submit">Filtruj</button>
</form>

<h2>Zawartość magazynu</h2>

<table border="1" cellpadding="6">
    <tr>
        <th>ID oddania</th>
        <th>Dawca</th>
        <th>Grupa</th>
        <th>Ilość początkowa (ml)</th>
        <th>Ilość pozostała (ml)</th>
        <th>Status</th>
        <th>Data ważności</th>
    </tr>

    {% for m in magazyn %}
    <tr class="status-{{ m[6] }}">
        <td>{{ m[0] }}</td>
        <td>{{ m[1] }}</td>
        <td>{{ m[2] }}{{ m[3] }}</td>
        <td>{{ m[4] }}</td>  <!-- ilosc_poczatkowa -->
        <td>{{ m[5] }}</td>  <!-- ilosc_pozostala -->
        <td>{{ m[6] }}</td>  <!-- status -->
        <td>{{ m[7] }}</td>  <!-- data_waznosci -->
    </tr>
    {% endfor %}
</table>

</body>
</html>
